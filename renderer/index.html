<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classificador de Frutas</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Classificador de Frutas</h1>
            <div class="header-buttons">
                <button id="compareBtn" class="btn btn-secondary">üìä Comparar Evolu√ß√£o</button>
                <button id="loadBtn" class="btn btn-secondary">üìÇ Carregar Projeto</button>
                <button id="exportBtn" class="btn btn-secondary">üíæ Exportar Todos</button>
                <button id="importBtn" class="btn btn-secondary">üì• Importar</button>
            </div>
        </header>

        <main id="mainContent">
            <div class="input-section">
                <div class="project-info">
                    <label>
                        Nome da Fruta / Projeto:
                        <input type="text" id="projectNumber" placeholder="Ex: Abacaxi, Manga, etc.">
                    </label>
                </div>

                <!-- Category Limits - Compact Version -->
                <div class="limits-section">
                    <h2>Limites de Classifica√ß√£o</h2>
                    <div id="limitsError" class="limits-error" style="display: none;"></div>
                    <div class="limits-compact">
                        <div class="limit-row">
                            <span class="limit-label">Ovo de codorna</span>
                            <div class="limit-inputs-inline">
                                <input type="number" step="0.001" class="limit-input-compact" id="codornaMin" placeholder="M√≠n (kg)">
                                <span class="separator">‚Äî</span>
                                <input type="number" step="0.001" class="limit-input-compact" id="codornaMax" placeholder="M√°x (kg)">
                            </div>
                        </div>
                        <div class="limit-row">
                            <span class="limit-label">Ovo de galinha</span>
                            <div class="limit-inputs-inline">
                                <input type="number" step="0.001" class="limit-input-compact" id="galinhaMin" placeholder="M√≠n (kg)">
                                <span class="separator">‚Äî</span>
                                <input type="number" step="0.001" class="limit-input-compact" id="galinhaMax" placeholder="M√°x (kg)">
                            </div>
                        </div>
                        <div class="limit-row">
                            <span class="limit-label">Laranja</span>
                            <div class="limit-inputs-inline">
                                <input type="number" step="0.001" class="limit-input-compact" id="laranjaMin" placeholder="M√≠n (kg)">
                                <span class="separator">‚Äî</span>
                                <input type="number" step="0.001" class="limit-input-compact" id="laranjaMax" placeholder="M√°x (kg)">
                            </div>
                        </div>
                        <div class="limit-row">
                            <span class="limit-label">Coco verde</span>
                            <div class="limit-inputs-inline">
                                <input type="number" step="0.001" class="limit-input-compact" id="cocoVerdeMin" placeholder="M√≠n (kg)">
                                <span class="separator">‚Äî</span>
                                <input type="number" step="0.001" class="limit-input-compact" id="cocoVerdeMax" placeholder="M√°x (kg)">
                            </div>
                        </div>
                        <div class="limit-row">
                            <span class="limit-label">Coco seco</span>
                            <div class="limit-inputs-inline">
                                <input type="number" step="0.001" class="limit-input-compact" id="cocoSecoMin" placeholder="M√≠n (kg)">
                                <span class="separator">‚Äî</span>
                                <input type="number" step="0.001" class="limit-input-compact" id="cocoSecoMax" placeholder="M√°x (kg)">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data Input Section -->
                <div class="data-input-section">
                    <h2>Entrada de Dados</h2>
                    
                    <!-- Testemunhas Group -->
                    <div class="test-group testemunhas-group">
                        <h3>Grupo Testemunha</h3>
                        <div class="group-boxes">
                            <div class="classification-box">
                                <h4>Testemunha 1</h4>
                                <div class="input-group">
                                    <input type="number" step="0.001" placeholder="Peso (kg)">
                                    <button class="add-btn">+</button>
                                </div>
                                <div class="values-list" data-test="testemunha1"></div>
                                <div class="average-display" data-test="testemunha1">
                                    M√©dia: <strong>-</strong>
                                </div>
                            </div>

                            <div class="classification-box">
                                <h4>Testemunha 2</h4>
                                <div class="input-group">
                                    <input type="number" step="0.001" placeholder="Peso (kg)">
                                    <button class="add-btn">+</button>
                                </div>
                                <div class="values-list" data-test="testemunha2"></div>
                                <div class="average-display" data-test="testemunha2">
                                    M√©dia: <strong>-</strong>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Testes Group -->
                    <div class="test-group testes-group">
                        <h3>Grupo Experimental</h3>
                        <div class="group-boxes">
                            <div class="classification-box experimental">
                                <h4>Teste 1</h4>
                                <div class="input-group">
                                    <input type="number" step="0.001" placeholder="Peso (kg)">
                                    <button class="add-btn">+</button>
                                </div>
                                <div class="values-list" data-test="teste1"></div>
                                <div class="average-display" data-test="teste1">
                                    M√©dia: <strong>-</strong>
                                </div>
                            </div>

                            <div class="classification-box experimental">
                                <h4>Teste 2</h4>
                                <div class="input-group">
                                    <input type="number" step="0.001" placeholder="Peso (kg)">
                                    <button class="add-btn">+</button>
                                </div>
                                <div class="values-list" data-test="teste2"></div>
                                <div class="average-display" data-test="teste2">
                                    M√©dia: <strong>-</strong>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Individual Results Section -->
                    <div class="individual-results-section">
                        <h3>Resultados Individuais</h3>
                        <div class="individual-results-grid">
                            <div class="individual-result-card">
                                <h4>Testemunha 1</h4>
                                <div class="result-value" id="mediaTestemunha1">
                                    <strong>-</strong> kg
                                </div>
                                <div class="category-label" id="categoryTestemunha1"></div>
                            </div>

                            <div class="individual-result-card">
                                <h4>Testemunha 2</h4>
                                <div class="result-value" id="mediaTestemunha2">
                                    <strong>-</strong> kg
                                </div>
                                <div class="category-label" id="categoryTestemunha2"></div>
                            </div>

                            <div class="individual-result-card">
                                <h4>Teste 1</h4>
                                <div class="result-value" id="mediaTeste1">
                                    <strong>-</strong> kg
                                </div>
                                <div class="category-label" id="categoryTeste1"></div>
                            </div>

                            <div class="individual-result-card">
                                <h4>Teste 2</h4>
                                <div class="result-value" id="mediaTeste2">
                                    <strong>-</strong> kg
                                </div>
                                <div class="category-label" id="categoryTeste2"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Group Averages -->
                    <div class="group-averages-section">
                        <div class="group-average-grid">
                            <div class="result-card highlight-blue">
                                <h4>üìä M√©dia Testemunhas</h4>
                                <div class="result-value" id="mediaTestemunhas">
                                    <strong>-</strong> kg
                                </div>
                                <div class="category-label" id="categoryMediaTestemunhas"></div>
                            </div>

                            <div class="result-card highlight-yellow">
                                <h4>üß™ M√©dia Testes</h4>
                                <div class="result-value" id="mediaTestes">
                                    <strong>-</strong> kg
                                </div>
                                <div class="category-label" id="categoryMediaTestes"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Final Comparison -->
            <div class="final-comparison-section">
                <div class="result-card highlight">
                    <h3>üìà Compara√ß√£o Final</h3>
                    <div class="result-value" id="comparacaoFinal">
                        <strong>-</strong>
                    </div>
                    <small id="comparacaoTexto">Adicione valores para ver a compara√ß√£o</small>
                </div>
                <button id="saveBtn" class="btn btn-primary" disabled>üíæ Salvar Projeto</button>
            </div>
        </main>

        <!-- Graph Comparison Modal -->
        <div id="compareModal" class="modal">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2>üìä Comparar Evolu√ß√£o ao Longo do Tempo</h2>
                    <button class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="compare-controls">
                        <div class="project-selector">
                            <h3>Selecione os Projetos para Comparar:</h3>
                            <div id="projectCheckboxes" class="checkbox-list">
                                <!-- Project checkboxes will be dynamically added here -->
                            </div>
                        </div>

                        <button id="generateGraphBtn" class="btn btn-primary">üìä Gerar Gr√°fico</button>
                    </div>

                    <div id="graphContainer" class="graph-container" style="display: none;">
                        <canvas id="comparisonChart"></canvas>
                    </div>

                    <div id="noDataMessage" class="no-data-message">
                        <p>‚ö†Ô∏è Selecione pelo menos um projeto para visualizar o gr√°fico.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Load Projects Modal -->
        <div id="loadModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üìÇ Carregar Projeto Salvo</h2>
                    <button class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="projectsList"></div>
                </div>
            </div>
        </div>

        <!-- Custom Confirm Dialog -->
        <div id="confirmDialog" class="modal">
            <div class="modal-content confirm-dialog">
                <div class="modal-body">
                    <div class="confirm-icon">‚ö†Ô∏è</div>
                    <h3 id="confirmTitle">Confirmar A√ß√£o</h3>
                    <p id="confirmMessage">Voc√™ tem certeza?</p>
                    <div class="confirm-buttons">
                        <button id="confirmYes" class="btn btn-primary">Sim</button>
                        <button id="confirmNo" class="btn btn-secondary">N√£o</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
